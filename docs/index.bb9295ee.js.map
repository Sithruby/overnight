{"mappings":"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","sources":["src/public/scripts/butter.js"],"sourcesContent":["// butter.js\n\n(function(root){\n    var Butter = function() {\n\n        var self = this;\n\n        this.defaults = {\n            wrapperId: 'butter',\n            wrapperDamper: 0.07,\n            cancelOnTouch: false\n        }\n        \n        this.validateOptions = function(ops) {\n            for (var prop in ops) {\n                if (self.defaults.hasOwnProperty(prop)) {\n                    Object.defineProperty(self.defaults, prop, {value: Object.getOwnPropertyDescriptor(ops, prop).value})\n                }\n            }\n        }\n\n        this.wrapperDamper;\n        this.wrapperId;\n        this.cancelOnTouch;\n        this.wrapper;\n        this.wrapperOffset = 0;\n        this.animateId;\n        this.resizing = false;\n        this.active = false;\n        this.wrapperHeight;\n        this.bodyHeight;\n    };\n\n    Butter.prototype = {\n\n        init: function(options) {\n            if (options) {\n                this.validateOptions(options);\n            }\n\n            this.active = true;\n            this.resizing = false;\n            this.wrapperDamper = this.defaults.wrapperDamper;\n            this.wrapperId = this.defaults.wrapperId;\n            this.cancelOnTouch = this.defaults.cancelOnTouch;\n\n            this.wrapper = document.getElementById(this.wrapperId);\n            this.wrapper.style.position = 'fixed';\n            this.wrapper.style.width = '100%';\n\n            this.wrapperHeight = this.wrapper.clientHeight;\n            document.body.style.height = this.wrapperHeight + 'px';\n\n            window.addEventListener('resize', this.resize.bind(this));\n            if (this.cancelOnTouch) {\n                window.addEventListener('touchstart', this.cancel.bind(this));\n            }\n            this.wrapperOffset = 0.0;\n            this.animateId = window.requestAnimationFrame(this.animate.bind(this));\n\n            // window.addEventListener('load', this.resize.bind(this));\n        },\n\n        wrapperUpdate: function() {\n            var scrollY = (document.scrollingElement != undefined) ? document.scrollingElement.scrollTop : (document.documentElement.scrollTop || 0.0);\n            this.wrapperOffset += (scrollY - this.wrapperOffset) * this.wrapperDamper;\n            this.wrapper.style.transform = 'translate3d(0,' + (-this.wrapperOffset.toFixed(2)) + 'px, 0)';\n        },\n\n        checkResize: function() {\n            if (this.wrapperHeight != this.wrapper.clientHeight) {\n                this.resize();\n            }\n        },\n\n        resize: function() {\n            var self = this;\n            if (!self.resizing) {\n                self.resizing = true;\n                window.cancelAnimationFrame(self.animateId);\n                window.setTimeout(function() {\n                    self.wrapperHeight = self.wrapper.clientHeight;\n                    if (parseInt(document.body.style.height) != parseInt(self.wrapperHeight)) {\n                        document.body.style.height = self.wrapperHeight + 'px';\n                    }\n                    self.animateId = window.requestAnimationFrame(self.animate.bind(self));\n                    self.resizing = false;\n                }, 150)\n            }\n        },\n\n        animate: function() {\n            this.checkResize();\n            this.wrapperUpdate();\n            this.animateId = window.requestAnimationFrame(this.animate.bind(this));\n        },\n\n        cancel: function() {\n            if (this.active) {\n                window.cancelAnimationFrame(this.animateId);\n\n                window.removeEventListener('resize', this.resize);\n                window.removeEventListener('touchstart', this.cancel);\n                this.wrapper.removeAttribute('style');\n                document.body.removeAttribute('style');\n\n                this.active = false;\n                this.wrapper = \"\";\n                this.wrapperOffset = 0;\n                this.resizing = true;\n                this.animateId = \"\";\n            }\n        },\n    };\n\n    root.butter = new Butter();\n\n})(this);"],"names":[],"version":3,"file":"index.bb9295ee.js.map","sourceRoot":"/__parcel_source_root/"}