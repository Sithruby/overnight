{"mappings":"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","sources":["<anon>","src/public/scripts/butter.js"],"sourcesContent":["// butter.js\n(function(root) {\n    var Butter = function() {\n        var self = this;\n        this.defaults = {\n            wrapperId: \"butter\",\n            wrapperDamper: 0.07,\n            cancelOnTouch: false\n        };\n        this.validateOptions = function(ops) {\n            for(var prop in ops)if (self.defaults.hasOwnProperty(prop)) Object.defineProperty(self.defaults, prop, {\n                value: Object.getOwnPropertyDescriptor(ops, prop).value\n            });\n        };\n        this.wrapperDamper;\n        this.wrapperId;\n        this.cancelOnTouch;\n        this.wrapper;\n        this.wrapperOffset = 0;\n        this.animateId;\n        this.resizing = false;\n        this.active = false;\n        this.wrapperHeight;\n        this.bodyHeight;\n    };\n    Butter.prototype = {\n        init: function(options) {\n            if (options) this.validateOptions(options);\n            this.active = true;\n            this.resizing = false;\n            this.wrapperDamper = this.defaults.wrapperDamper;\n            this.wrapperId = this.defaults.wrapperId;\n            this.cancelOnTouch = this.defaults.cancelOnTouch;\n            this.wrapper = document.getElementById(this.wrapperId);\n            this.wrapper.style.position = \"fixed\";\n            this.wrapper.style.width = \"100%\";\n            this.wrapperHeight = this.wrapper.clientHeight;\n            document.body.style.height = this.wrapperHeight + \"px\";\n            window.addEventListener(\"resize\", this.resize.bind(this));\n            if (this.cancelOnTouch) window.addEventListener(\"touchstart\", this.cancel.bind(this));\n            this.wrapperOffset = 0.0;\n            this.animateId = window.requestAnimationFrame(this.animate.bind(this));\n        // window.addEventListener('load', this.resize.bind(this));\n        },\n        wrapperUpdate: function() {\n            var scrollY = document.scrollingElement != undefined ? document.scrollingElement.scrollTop : document.documentElement.scrollTop || 0.0;\n            this.wrapperOffset += (scrollY - this.wrapperOffset) * this.wrapperDamper;\n            this.wrapper.style.transform = \"translate3d(0,\" + -this.wrapperOffset.toFixed(2) + \"px, 0)\";\n        },\n        checkResize: function() {\n            if (this.wrapperHeight != this.wrapper.clientHeight) this.resize();\n        },\n        resize: function() {\n            var self = this;\n            if (!self.resizing) {\n                self.resizing = true;\n                window.cancelAnimationFrame(self.animateId);\n                window.setTimeout(function() {\n                    self.wrapperHeight = self.wrapper.clientHeight;\n                    if (parseInt(document.body.style.height) != parseInt(self.wrapperHeight)) document.body.style.height = self.wrapperHeight + \"px\";\n                    self.animateId = window.requestAnimationFrame(self.animate.bind(self));\n                    self.resizing = false;\n                }, 150);\n            }\n        },\n        animate: function() {\n            this.checkResize();\n            this.wrapperUpdate();\n            this.animateId = window.requestAnimationFrame(this.animate.bind(this));\n        },\n        cancel: function() {\n            if (this.active) {\n                window.cancelAnimationFrame(this.animateId);\n                window.removeEventListener(\"resize\", this.resize);\n                window.removeEventListener(\"touchstart\", this.cancel);\n                this.wrapper.removeAttribute(\"style\");\n                document.body.removeAttribute(\"style\");\n                this.active = false;\n                this.wrapper = \"\";\n                this.wrapperOffset = 0;\n                this.resizing = true;\n                this.animateId = \"\";\n            }\n        }\n    };\n    root.butter = new Butter();\n})(this);\n\n//# sourceMappingURL=index.5ffe6a0c.js.map\n","// butter.js\r\n\r\n(function(root){\r\n    var Butter = function() {\r\n\r\n        var self = this;\r\n\r\n        this.defaults = {\r\n            wrapperId: 'butter',\r\n            wrapperDamper: 0.07,\r\n            cancelOnTouch: false\r\n        }\r\n        \r\n        this.validateOptions = function(ops) {\r\n            for (var prop in ops) {\r\n                if (self.defaults.hasOwnProperty(prop)) {\r\n                    Object.defineProperty(self.defaults, prop, {value: Object.getOwnPropertyDescriptor(ops, prop).value})\r\n                }\r\n            }\r\n        }\r\n\r\n        this.wrapperDamper;\r\n        this.wrapperId;\r\n        this.cancelOnTouch;\r\n        this.wrapper;\r\n        this.wrapperOffset = 0;\r\n        this.animateId;\r\n        this.resizing = false;\r\n        this.active = false;\r\n        this.wrapperHeight;\r\n        this.bodyHeight;\r\n    };\r\n\r\n    Butter.prototype = {\r\n\r\n        init: function(options) {\r\n            if (options) {\r\n                this.validateOptions(options);\r\n            }\r\n\r\n            this.active = true;\r\n            this.resizing = false;\r\n            this.wrapperDamper = this.defaults.wrapperDamper;\r\n            this.wrapperId = this.defaults.wrapperId;\r\n            this.cancelOnTouch = this.defaults.cancelOnTouch;\r\n\r\n            this.wrapper = document.getElementById(this.wrapperId);\r\n            this.wrapper.style.position = 'fixed';\r\n            this.wrapper.style.width = '100%';\r\n\r\n            this.wrapperHeight = this.wrapper.clientHeight;\r\n            document.body.style.height = this.wrapperHeight + 'px';\r\n\r\n            window.addEventListener('resize', this.resize.bind(this));\r\n            if (this.cancelOnTouch) {\r\n                window.addEventListener('touchstart', this.cancel.bind(this));\r\n            }\r\n            this.wrapperOffset = 0.0;\r\n            this.animateId = window.requestAnimationFrame(this.animate.bind(this));\r\n\r\n            // window.addEventListener('load', this.resize.bind(this));\r\n        },\r\n\r\n        wrapperUpdate: function() {\r\n            var scrollY = (document.scrollingElement != undefined) ? document.scrollingElement.scrollTop : (document.documentElement.scrollTop || 0.0);\r\n            this.wrapperOffset += (scrollY - this.wrapperOffset) * this.wrapperDamper;\r\n            this.wrapper.style.transform = 'translate3d(0,' + (-this.wrapperOffset.toFixed(2)) + 'px, 0)';\r\n        },\r\n\r\n        checkResize: function() {\r\n            if (this.wrapperHeight != this.wrapper.clientHeight) {\r\n                this.resize();\r\n            }\r\n        },\r\n\r\n        resize: function() {\r\n            var self = this;\r\n            if (!self.resizing) {\r\n                self.resizing = true;\r\n                window.cancelAnimationFrame(self.animateId);\r\n                window.setTimeout(function() {\r\n                    self.wrapperHeight = self.wrapper.clientHeight;\r\n                    if (parseInt(document.body.style.height) != parseInt(self.wrapperHeight)) {\r\n                        document.body.style.height = self.wrapperHeight + 'px';\r\n                    }\r\n                    self.animateId = window.requestAnimationFrame(self.animate.bind(self));\r\n                    self.resizing = false;\r\n                }, 150)\r\n            }\r\n        },\r\n\r\n        animate: function() {\r\n            this.checkResize();\r\n            this.wrapperUpdate();\r\n            this.animateId = window.requestAnimationFrame(this.animate.bind(this));\r\n        },\r\n\r\n        cancel: function() {\r\n            if (this.active) {\r\n                window.cancelAnimationFrame(this.animateId);\r\n\r\n                window.removeEventListener('resize', this.resize);\r\n                window.removeEventListener('touchstart', this.cancel);\r\n                this.wrapper.removeAttribute('style');\r\n                document.body.removeAttribute('style');\r\n\r\n                this.active = false;\r\n                this.wrapper = \"\";\r\n                this.wrapperOffset = 0;\r\n                this.resizing = true;\r\n                this.animateId = \"\";\r\n            }\r\n        },\r\n    };\r\n\r\n    root.butter = new Butter();\r\n\r\n})(this);"],"names":["Butter","self","defaults","wrapperId","wrapperDamper","cancelOnTouch","validateOptions","ops","prop","hasOwnProperty","Object","defineProperty","value","getOwnPropertyDescriptor","wrapper","wrapperOffset","animateId","resizing","active","wrapperHeight","bodyHeight","prototype","init","options","document","getElementById","style","position","width","clientHeight","body","height","window","addEventListener","resize","bind","cancel","requestAnimationFrame","animate","wrapperUpdate","scrollY","undefined","scrollingElement","scrollTop","documentElement","transform","toFixed","checkResize","cancelAnimationFrame","setTimeout","parseInt","removeEventListener","removeAttribute","root","butter"],"version":3,"file":"index.5ffe6a0c.js.map"}