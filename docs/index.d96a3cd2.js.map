{"mappings":"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","sources":["<anon>","src/public/scripts/butter.js"],"sourcesContent":["// butter.js\n(function(root) {\n    var Butter = function() {\n        var self = this;\n        this.defaults = {\n            wrapperId: \"butter\",\n            wrapperDamper: 0.07,\n            cancelOnTouch: false\n        };\n        this.validateOptions = function(ops) {\n            for(var prop in ops)if (self.defaults.hasOwnProperty(prop)) Object.defineProperty(self.defaults, prop, {\n                value: Object.getOwnPropertyDescriptor(ops, prop).value\n            });\n        };\n        this.wrapperDamper;\n        this.wrapperId;\n        this.cancelOnTouch;\n        this.wrapper;\n        this.wrapperOffset = 0;\n        this.animateId;\n        this.resizing = false;\n        this.active = false;\n        this.wrapperHeight;\n        this.bodyHeight;\n    };\n    Butter.prototype = {\n        init: function(options) {\n            if (options) this.validateOptions(options);\n            this.active = true;\n            this.resizing = false;\n            this.wrapperDamper = this.defaults.wrapperDamper;\n            this.wrapperId = this.defaults.wrapperId;\n            this.cancelOnTouch = this.defaults.cancelOnTouch;\n            this.wrapper = document.getElementById(this.wrapperId);\n            this.wrapper.style.position = \"fixed\";\n            this.wrapper.style.width = \"100%\";\n            this.wrapperHeight = this.wrapper.clientHeight;\n            document.body.style.height = this.wrapperHeight + \"px\";\n            window.addEventListener(\"resize\", this.resize.bind(this));\n            if (this.cancelOnTouch) window.addEventListener(\"touchstart\", this.cancel.bind(this));\n            this.wrapperOffset = 0.0;\n            this.animateId = window.requestAnimationFrame(this.animate.bind(this));\n        // window.addEventListener('load', this.resize.bind(this));\n        },\n        wrapperUpdate: function() {\n            var scrollY = document.scrollingElement != undefined ? document.scrollingElement.scrollTop : document.documentElement.scrollTop || 0.0;\n            this.wrapperOffset += (scrollY - this.wrapperOffset) * this.wrapperDamper;\n            this.wrapper.style.transform = \"translate3d(0,\" + -this.wrapperOffset.toFixed(2) + \"px, 0)\";\n        },\n        checkResize: function() {\n            if (this.wrapperHeight != this.wrapper.clientHeight) this.resize();\n        },\n        resize: function() {\n            var self = this;\n            if (!self.resizing) {\n                self.resizing = true;\n                window.cancelAnimationFrame(self.animateId);\n                window.setTimeout(function() {\n                    self.wrapperHeight = self.wrapper.clientHeight;\n                    if (parseInt(document.body.style.height) != parseInt(self.wrapperHeight)) document.body.style.height = self.wrapperHeight + \"px\";\n                    self.animateId = window.requestAnimationFrame(self.animate.bind(self));\n                    self.resizing = false;\n                }, 150);\n            }\n        },\n        animate: function() {\n            this.checkResize();\n            this.wrapperUpdate();\n            this.animateId = window.requestAnimationFrame(this.animate.bind(this));\n        },\n        cancel: function() {\n            if (this.active) {\n                window.cancelAnimationFrame(this.animateId);\n                window.removeEventListener(\"resize\", this.resize);\n                window.removeEventListener(\"touchstart\", this.cancel);\n                this.wrapper.removeAttribute(\"style\");\n                document.body.removeAttribute(\"style\");\n                this.active = false;\n                this.wrapper = \"\";\n                this.wrapperOffset = 0;\n                this.resizing = true;\n                this.animateId = \"\";\n            }\n        }\n    };\n    root.butter = new Butter();\n})(this);\n\n//# sourceMappingURL=index.d96a3cd2.js.map\n","// butter.js\r\n\r\n(function(root){\r\n    var Butter = function() {\r\n\r\n        var self = this;\r\n\r\n        this.defaults = {\r\n            wrapperId: 'butter',\r\n            wrapperDamper: 0.07,\r\n            cancelOnTouch: false\r\n        }\r\n        \r\n        this.validateOptions = function(ops) {\r\n            for (var prop in ops) {\r\n                if (self.defaults.hasOwnProperty(prop)) {\r\n                    Object.defineProperty(self.defaults, prop, {value: Object.getOwnPropertyDescriptor(ops, prop).value})\r\n                }\r\n            }\r\n        }\r\n\r\n        this.wrapperDamper;\r\n        this.wrapperId;\r\n        this.cancelOnTouch;\r\n        this.wrapper;\r\n        this.wrapperOffset = 0;\r\n        this.animateId;\r\n        this.resizing = false;\r\n        this.active = false;\r\n        this.wrapperHeight;\r\n        this.bodyHeight;\r\n    };\r\n\r\n    Butter.prototype = {\r\n\r\n        init: function(options) {\r\n            if (options) {\r\n                this.validateOptions(options);\r\n            }\r\n\r\n            this.active = true;\r\n            this.resizing = false;\r\n            this.wrapperDamper = this.defaults.wrapperDamper;\r\n            this.wrapperId = this.defaults.wrapperId;\r\n            this.cancelOnTouch = this.defaults.cancelOnTouch;\r\n\r\n            this.wrapper = document.getElementById(this.wrapperId);\r\n            this.wrapper.style.position = 'fixed';\r\n            this.wrapper.style.width = '100%';\r\n\r\n            this.wrapperHeight = this.wrapper.clientHeight;\r\n            document.body.style.height = this.wrapperHeight + 'px';\r\n\r\n            window.addEventListener('resize', this.resize.bind(this));\r\n            if (this.cancelOnTouch) {\r\n                window.addEventListener('touchstart', this.cancel.bind(this));\r\n            }\r\n            this.wrapperOffset = 0.0;\r\n            this.animateId = window.requestAnimationFrame(this.animate.bind(this));\r\n\r\n            // window.addEventListener('load', this.resize.bind(this));\r\n        },\r\n\r\n        wrapperUpdate: function() {\r\n            var scrollY = (document.scrollingElement != undefined) ? document.scrollingElement.scrollTop : (document.documentElement.scrollTop || 0.0);\r\n            this.wrapperOffset += (scrollY - this.wrapperOffset) * this.wrapperDamper;\r\n            this.wrapper.style.transform = 'translate3d(0,' + (-this.wrapperOffset.toFixed(2)) + 'px, 0)';\r\n        },\r\n\r\n        checkResize: function() {\r\n            if (this.wrapperHeight != this.wrapper.clientHeight) {\r\n                this.resize();\r\n            }\r\n        },\r\n\r\n        resize: function() {\r\n            var self = this;\r\n            if (!self.resizing) {\r\n                self.resizing = true;\r\n                window.cancelAnimationFrame(self.animateId);\r\n                window.setTimeout(function() {\r\n                    self.wrapperHeight = self.wrapper.clientHeight;\r\n                    if (parseInt(document.body.style.height) != parseInt(self.wrapperHeight)) {\r\n                        document.body.style.height = self.wrapperHeight + 'px';\r\n                    }\r\n                    self.animateId = window.requestAnimationFrame(self.animate.bind(self));\r\n                    self.resizing = false;\r\n                }, 150)\r\n            }\r\n        },\r\n\r\n        animate: function() {\r\n            this.checkResize();\r\n            this.wrapperUpdate();\r\n            this.animateId = window.requestAnimationFrame(this.animate.bind(this));\r\n        },\r\n\r\n        cancel: function() {\r\n            if (this.active) {\r\n                window.cancelAnimationFrame(this.animateId);\r\n\r\n                window.removeEventListener('resize', this.resize);\r\n                window.removeEventListener('touchstart', this.cancel);\r\n                this.wrapper.removeAttribute('style');\r\n                document.body.removeAttribute('style');\r\n\r\n                this.active = false;\r\n                this.wrapper = \"\";\r\n                this.wrapperOffset = 0;\r\n                this.resizing = true;\r\n                this.animateId = \"\";\r\n            }\r\n        },\r\n    };\r\n\r\n    root.butter = new Butter();\r\n\r\n})(this);"],"names":["Butter","self","defaults","wrapperId","wrapperDamper","cancelOnTouch","validateOptions","ops","prop","hasOwnProperty","Object","defineProperty","value","getOwnPropertyDescriptor","wrapper","wrapperOffset","animateId","resizing","active","wrapperHeight","bodyHeight","prototype","init","options","document","getElementById","style","position","width","clientHeight","body","height","window","addEventListener","resize","bind","cancel","requestAnimationFrame","animate","wrapperUpdate","scrollY","undefined","scrollingElement","scrollTop","documentElement","transform","toFixed","checkResize","cancelAnimationFrame","setTimeout","parseInt","removeEventListener","removeAttribute","root","butter"],"version":3,"file":"index.d96a3cd2.js.map"}